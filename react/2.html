<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div id="root">

    </div>
    <script src="react.development.js"></script>
    <script src="react-dom.development.js"></script>
    <script src="browser.min.js"></script>
    <script type="text/babel">

    class Main extends React.Component{
        constructor(params) {
                super(params);
                this.state = {
                    total:120,
                    numA:100,
                    numB:100
                }
                this.change = this.change.bind(this);
            }
            change(name){
              if(this.state.total>=20)
              {
                this.setState({
                   total:this.state.total-20,
                   ['num'+name]:this.state['num'+name] + 20
                })
              }
              else{
                  alert('士兵不足')
              }
            }
        render(){
            return(
                <div >
                  <h1>剩余士兵数量{this.state.total}</h1>
                  <SB name='A' num={this.state.numA} change={this.change}></SB>
                  <SB name='B' num={this.state.numB} change={this.change}></SB>
                   </div>
            )
        }

    }
    class SB extends React.Component{

       
        render(){
            return(
                <div>
                        <h1>将军{this.props.name}有士兵{this.props.num}</h1>
                        <button onClick={()=>{this.props.change(this.props.name)}}>调兵</button>
                    
                </div>
            )
        }

    }




    ReactDOM.render(<Main></Main>,document.getElementById('root'))

    


     </script>

</body>

</html>